## 쇼핑몰 관련 크롤링 프로젝트 

# 간단한 총평
# 1)Balaan

발란의 경우, 다른 사이트 보다 조금 난이도가 더 있었다.
이유는 간단했다. 바로 "iframe"이 존재하였는데 그것을 캐치하지 못했다.

*iframe 이란?

iframe은 "Inline Frame"의 약자로, 웹 페이지 내에 다른 웹 페이지를 포함시키기 위해 사용되는  HTML요소이다. 즉, 하나의 웹페이지 안에서 다른 웹 페이지를 작은 프레임 안에 삽입하여 보여줄 수 있는 기능을 제공.
iframe의 존재 유무를 파악하지 못한다면, 결코 Selenium을 통해 접근하는 것은 불가능하다. 
-> 모든 웹사이트도 마찬가지겠지만, 항상 구조를 먼저 면밀히 살펴보자.


# 2)MustIt

머스트잇은 크게 메인몰과 판매자몰로 나누어져 있다.
- 메인몰 : https://mustit.co.kr/product/search?checkHeadCate[]=W&checkCategory[]=15r02&click=header
- 판매자몰 : https://mustit.co.kr/s-project

위 판매자 몰은 실제 의뢰받았던 사이트 중 하나이다.
나는 주로 판매자몰 위주로 의뢰를 받아서, 메인몰에 대해서는 따로 진행하지는 않았다.

대부분의 웹사이트가 마찬가지겠지만, 상품이 많으면 일정 페이지만 아래와 같이 번호로 매겨지고, 나머지는 ">" 버튼을 통해 이동할수있게 구성되어있다.


![image](https://github.com/LukaKKS/Crawling/assets/157806956/84f7115a-272d-481f-8994-e84ad775ff17)


이렇게 구성된 경우, 간단하다, ">"버튼에 이벤트만 추가해주면 되기 때문이다.

하지만 상품이 적은 경우에는 아래와 같이 버튼이 없다.

![image](https://github.com/LukaKKS/Crawling/assets/157806956/26632afc-1019-4511-a119-156690827b32)

이런 두가지 형태로 구성되기 때문에, 각각의 상황에 따라 이벤트를 다르게 주어야한다.
다양한 방법이 있을 수 있지만, 나는 해당 사이트 구조가 페이지 수가 11이상 부터 ">" 버튼이 생겨나는걸 확인했고, 
페이지 수가 11이상부턴 ">"에 대한 버튼 이벤트를 활성화 시키고, 그 11아래 페이지 부턴, 각 페이지 넘버마다 고유번호가 있는데 해당 번호를 클릭하는 이벤트를 활성화 시켰다.

# 3) LotteOn
크롤링 작업을 할때 가장 구조가 난잡했던 사이트가 바로 롯데온이다.
![image](https://github.com/LukaKKS/Crawling/assets/157806956/991b8945-934c-4790-bd74-281241af2c27)


이처럼 해당 구조 자체가 계속 들어가는 구조에다가, 페이지 마다 버튼 이벤트 활성화 시키는 부분이 제각기 달랐기에, 해당 페이지를 분석하는 시간이 많이 소요되었다.

# 4)Cream
추후 업로드 예정


# 5)Coupang
추후 업로드 예정

# 6)11번가

11번가의 경우 타 사이트와는 조금 다른 형식을 가지고 있다. 

위 사이트 들은 일정 페이지수가 넘어가면 ">" 버튼으로 이벤트를 발생시켜 다음 페이지로 넘어가지만, 해당 사이트는 동적페이지로 구성되어있어, 일정부분만 화면에 보여주고
스크롤을 내릴수록 밑에 상품들이 계속 나열되는 방식이였다. 이러한 방식을 선택한 이유는  메모리 절약을 위해 판단된다.
그래서 해당 사이트는 쉬울수 있지만 주의해야할 사항이 있다.

1) 우선 위 사이트와는 다르게 스크롤 내리는 속도에 delay를 더 많이 부여해줘야된다. 이런 동적페이지의 경우 스크롤을 내릴수록 새 상품들이 보여지는 방식이라, 스크롤을 너무 빠르게 내리게되면 추출할 때 다소 오류가 발생하는 경우를 보았다.
크롤링은 컴퓨터 성능에 생각보다 많은 제약을 받기 때문에 컴퓨터 성능에 따라 delay시간을 조정해줘야된다.

내가 시도한 방법은 두가지이다. 하지만 개인적으로 후자를 더 추천한다.
1) 스크롤 delay를 좀 길게주어, 코드가 상품에 필요한 정보를 긁어오는 시간을 벌어 다 주는것이다. 처음에는 이 방법으로 진행하였지만, 상품이 수만개가 넘는 품목들이 존재했기 때문에, 시간이 오래걸리는 단점이 있다.
또한, 이 방법으로 진행하다가 상품이 너무 많다보니 스크롤을 내렸을 때 상품이미지와 정보가 업로드되는 시간과, 딜레이 시간이 충돌하여 중간에 동작이 멈추게 되면 다시 처음부터 수집해야된다. 그래서 다소 비효율적이라 생각해서 후자를 추천한다.

2) 위의 한계점을 해결하고자 생각한 방안은, 우선 스크롤을 먼저 최하단까지 내리는 방법이다. 해당 방법을 처음부터 실행하지 않은 이유는 스크롤을 최하단 까지 내렸을때, 최상단의 상품에 대한 정보가 남아 있는지 존재 유무 파악을 하지 못하였기 때문에다.
최하단 까지 내려도 최상단 상품에 대한 정보를 기억하고 있는 것을 시행착오를 통해 알아냈고, 이 방법으로 채택하였다.
이 방법으로 진행할 경우, 스크롤에 대한 delay를 걸 필요가 없었기 때문에 전자의 방법보다 시간이 많이 단축되었다.
